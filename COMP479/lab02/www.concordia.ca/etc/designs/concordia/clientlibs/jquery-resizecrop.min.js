(function(b){b.fn.resizecrop=function(a){var d={width:50,height:50,vertical:"center",horizontal:"center",wrapper:"span",moveClass:true,moveId:true,className:"resizecrop",zoom:true,wrapperCSS:{}};
var a=b.extend(d,a);
return this.each(function(){var c=b(this);
c.css("display","none");
c.removeAttr("width").removeAttr("height");
var j=b(document.createElement(a.wrapper)).css({width:a.width,height:a.height,overflow:"hidden",display:"inline-block","vertical-align":"middle",position:"relative"}).css(a.wrapperCSS);
if(a.moveClass){var m=c.attr("class");
if(typeof m!=="undefined"&&m!==false&&m!==""){var k=m.split(/\s+/);
b.each(k,function(f,e){j.addClass(e)
});
c.removeAttr("class");
c.addClass(a.className)
}}if(a.moveId){var n=c.attr("id");
if(typeof n!=="undefined"&&n!==false&&n!==""){c.removeAttr("id");
j.attr("id",n)
}}c.wrap(j);
function l(e){width_ratio=a.width/e.width();
height_ratio=a.height/e.height();
if(width_ratio>height_ratio){if(a.zoom||width_ratio<1){e.width(a.width)
}switch(a.vertical){case"top":e.css("top",0);
break;
case"bottom":e.css("bottom",0);
break;
case"center":default:e.css("top",((e.height()-a.height)/-2)+"px")
}if(a.zoom||width_ratio<1){e.css("left",0)
}else{e.css("left",((e.width()-a.width)/-2)+"px")
}}else{if(a.zoom||height_ratio<1){e.height(a.height)
}switch(a.horizontal){case"left":e.css("left",0);
break;
case"right":e.css("right",0);
break;
case"center":default:e.css("left",((e.width()-a.width)/-2)+"px")
}if(a.zoom||height_ratio<1){e.css("top",0)
}else{e.css("top",((e.height()-a.height)/-2)+"px")
}}e.css({position:"relative",display:"block"})
}if(this.complete){l(c)
}else{c.load(function(){l(b(this))
})
}})
};
b.fn.cropresize=b.fn.resizecrop
})(jQuery);